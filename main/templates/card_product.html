{% load static %}

<div class="relative rounded-lg overflow-hidden border border-gray-200">
    <div class="aspect-[16/9] relative overflow-hidden">
        {% if product.thumbnail %}
        <img src="{{ product.thumbnail }}" alt="a photo of {{ product.name }}" class="w-full h-full object-cover">
        {% else %}
        <div class="w-full h-full bg-gray-200"></div>
        {% endif %}
    </div>
    
    {% if product.is_featured %}
    <p class="top-3 left-3 absolute bg-amber-400 px-2 py-1 rounded-lg"><b>Featured</b></p>
    {% endif %}

    <div class="bg  p-4">
        <div class="flex justify-between">
            <span class="text-xl font-extrabold text-gray-800">Rp{{ product.price }}</span>
            <span class="text-sm text-gray-500">{{ product.terjual }} Terjual</span>
        </div>
        <div class="my-2">
            <a href="{% url 'main:show_product' product.id %}" class="text-lg font-extrabold text-gray-900">{{ product.name }}</a>
        </div>
        <p class="text-sm text-gray-600">{{ product.description|truncatewords:25}}...</p>

        <div class="mt-4 flex justify-between items-center">
            <span>
                <a href="{% url 'main:show_product' product.id %}"><button>Detail</button></a>
            </span>
            {% if user.is_authenticated and user == product.user %}
            <span class="space-x-4">
                <a href="{% url 'main:edit_product' product.pk %}">
                    <button>
                        Edit
                    </button>
                </a>
                <a href="{% url 'main:delete_product' product.pk %}">
                    <button class="py-2 px-4 bg-red-600 text-white rounded-lg hover:bg-red-500">
                        Delete
                    </button>
                </a>
            </span>
            {% endif %}
        </div>
    </div>

</div>